{"mappings":"kpBAsBA,IAAAA,EACAC,E,iFArBA,IAAIC,EAAU,GAoBdF,EAlBA,SAAkBG,GAGhB,IAFA,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,G,EAelCL,EAXA,SAAiBO,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAM,oCAAsCF,GAGxD,OAAOC,C,KCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAM,sG,MCAzDC,EAAiB,IAAAC,IAAoBL,EAAA,SAAAM,QAA6C,SAAQC,OAAAC,KAAAC,KAAEC,WCE5F,IAAIC,EAAc,MACDC,SAASC,eAAe,cAChCC,iBAAiB,UAAU,SAAUC,GAC5CJ,EAAcI,EAAEC,OAAOC,K,IAGzB,MAAMC,EAASN,SAASC,eAAe,WACjCM,EAAMD,EAAOE,WAAW,MAExBC,EAAgBH,EAAOI,MAAQ,IAC/BC,EAAiBL,EAAOM,OAAS,IAQvC,IAAIC,EANJ,SAAqBC,GACnB,MAAMC,EAAQ,IAAIC,MAElB,OADAD,EAAME,IAAMH,EACLC,C,CAGSG,CAAYC,EAAA3B,IAI9B,IAAI4B,EAAY,EAChB,MACMC,EAAmB,GACD,CACtB,CACEC,KAAM,OACNC,OAAQ,GAEV,CACED,KAAM,OACNC,OAAQ,GAEV,CACED,KAAM,OACNC,OAAQ,GAEV,CACED,KAAM,MACNC,OAAQ,GAEV,CACED,KAAM,QACNC,OAAQ,IAEV,CACED,KAAM,MACNC,OAAQ,GAEV,CACED,KAAM,OACNC,OAAQ,GAEV,CACED,KAAM,OACNC,OAAQ,GAEV,CACED,KAAM,KACNC,OAAQ,IAEV,CACED,KAAM,SACNC,OAAQ,IAGIC,SAAQ,CAACC,EAAOC,KAC9B,IAAIH,EAAS,CACXI,IAAK,IAEP,IAAK,IAAIC,EAAI,EAAGA,EAAIH,EAAMF,OAAQK,IAAK,CACrC,IAAIC,EArDY,IAqDAD,EACZE,EArDa,IAqDDJ,EAChBH,EAAOI,IAAII,KAAK,CAAEC,EAAGH,EAAWI,EAAGH,G,CAErCT,EAAiBI,EAAMH,MAAQC,CAAM,IAEvCW,QAAQC,IAAId,GAEZ,SAASe,IACP7B,EAAI8B,UAAU,EAAG,EAAG5B,EAAcE,GAClC,IAAI2B,EACFC,KAAKC,MAAMpB,EA5DO,GA6DlBC,EAAiBtB,GAAa4B,IAAI3C,OAChCyD,EAlEc,IAkESH,EACvBI,EAASrB,EAAiBtB,GAAa4B,IAAIW,GAAUL,EACzD1B,EAAIoC,UACF9B,EACA4B,EACAC,EAvEgB,IACC,IAyEjB,EACA,EA3EgB,IACC,KA+EnBtB,IAEAwB,sBAAsBR,E,CAExBA","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-9550dc4ad8f3becd.js","node_modules/@parcel/runtime-js/lib/runtime-73fb1020e91fecb0.js","src/index.js"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"7GeUN\\\":\\\"index.71179d6e.js\\\",\\\"kyHq4\\\":\\\"shadow_dog.a6042816.png\\\"}\"));","module.exports = new __parcel__URL__(require('./helpers/bundle-manifest').resolve(\"kyHq4\")).toString();","import shadowDog from \"../img/shadow_dog.png\";\r\n\r\nlet playerState = \"sit\";\r\nconst dropdown = document.getElementById(\"animations\");\r\ndropdown.addEventListener(\"change\", function (e) {\r\n  playerState = e.target.value;\r\n});\r\n\r\nconst canvas = document.getElementById(\"canvas1\");\r\nconst ctx = canvas.getContext(\"2d\");\r\n\r\nconst CANVAS_WIDTH = (canvas.width = 800);\r\nconst CANVAS_HEIGHT = (canvas.height = 700);\r\n\r\nfunction createImage(imageSrc) {\r\n  const image = new Image();\r\n  image.src = imageSrc;\r\n  return image;\r\n}\r\n\r\nlet playerImage = createImage(shadowDog);\r\nconst spriteWigth = 575;\r\nconst spriteHeight = 523;\r\n\r\nlet gameFrame = 0;\r\nconst staggerFrames = 5;\r\nconst spriteAnimations = [];\r\nconst animationStates = [\r\n  {\r\n    name: \"idle\",\r\n    frames: 7,\r\n  },\r\n  {\r\n    name: \"jump\",\r\n    frames: 7,\r\n  },\r\n  {\r\n    name: \"fall\",\r\n    frames: 7,\r\n  },\r\n  {\r\n    name: \"run\",\r\n    frames: 9,\r\n  },\r\n  {\r\n    name: \"dizzy\",\r\n    frames: 11,\r\n  },\r\n  {\r\n    name: \"sit\",\r\n    frames: 5,\r\n  },\r\n  {\r\n    name: \"roll\",\r\n    frames: 7,\r\n  },\r\n  {\r\n    name: \"bite\",\r\n    frames: 7,\r\n  },\r\n  {\r\n    name: \"ko\",\r\n    frames: 12,\r\n  },\r\n  {\r\n    name: \"gethit\",\r\n    frames: 4,\r\n  },\r\n];\r\nanimationStates.forEach((state, index) => {\r\n  let frames = {\r\n    loc: [],\r\n  };\r\n  for (let j = 0; j < state.frames; j++) {\r\n    let positionX = j * spriteWigth;\r\n    let positionY = index * spriteHeight;\r\n    frames.loc.push({ x: positionX, y: positionY });\r\n  }\r\n  spriteAnimations[state.name] = frames;\r\n});\r\nconsole.log(spriteAnimations);\r\n\r\nfunction animate() {\r\n  ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\r\n  let position =\r\n    Math.floor(gameFrame / staggerFrames) %\r\n    spriteAnimations[playerState].loc.length;\r\n  let frameX = spriteWigth * position;\r\n  let frameY = spriteAnimations[playerState].loc[position].y;\r\n  ctx.drawImage(\r\n    playerImage,\r\n    frameX,\r\n    frameY,\r\n    spriteWigth,\r\n    spriteHeight,\r\n    0,\r\n    0,\r\n    spriteWigth,\r\n    spriteHeight\r\n  );\r\n\r\n  gameFrame++;\r\n\r\n  requestAnimationFrame(animate);\r\n}\r\nanimate();\r\n"],"names":["$18c11f3350a906ea$export$6503ec6e8aabbaf","$18c11f3350a906ea$export$f7ad0328861e2f03","$18c11f3350a906ea$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$78d05bb7cc5953e2$exports","URL","resolve","import","meta","url","toString","$35da740d59af89ba$var$playerState","document","getElementById","addEventListener","e","target","value","$35da740d59af89ba$var$canvas","$35da740d59af89ba$var$ctx","getContext","$35da740d59af89ba$var$CANVAS_WIDTH","width","$35da740d59af89ba$var$CANVAS_HEIGHT","height","$35da740d59af89ba$var$playerImage","imageSrc","image","Image","src","$35da740d59af89ba$var$createImage","$parcel$interopDefault","$35da740d59af89ba$var$gameFrame","$35da740d59af89ba$var$spriteAnimations","name","frames","forEach","state","index","loc","j","positionX","positionY","push","x","y","console","log","$35da740d59af89ba$var$animate","clearRect","position","Math","floor","frameX","frameY","drawImage","requestAnimationFrame"],"version":3,"file":"index.71179d6e.js.map"}